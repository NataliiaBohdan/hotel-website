"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("middleware",{

/***/ "(middleware)/./app/_lib/data-service.js":
/*!**********************************!*\
  !*** ./app/_lib/data-service.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createGuest: () => (/* binding */ createGuest),\n/* harmony export */   getBookedDatesByCabinId: () => (/* binding */ getBookedDatesByCabinId),\n/* harmony export */   getBooking: () => (/* binding */ getBooking),\n/* harmony export */   getBookings: () => (/* binding */ getBookings),\n/* harmony export */   getCabin: () => (/* binding */ getCabin),\n/* harmony export */   getCabinPrice: () => (/* binding */ getCabinPrice),\n/* harmony export */   getCabins: () => (/* binding */ getCabins),\n/* harmony export */   getCountries: () => (/* binding */ getCountries),\n/* harmony export */   getGuest: () => (/* binding */ getGuest),\n/* harmony export */   getSettings: () => (/* binding */ getSettings)\n/* harmony export */ });\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/navigation */ \"(middleware)/./node_modules/next/dist/esm/api/navigation.js\");\n/* harmony import */ var _barrel_optimize_names_eachDayOfInterval_date_fns__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! __barrel_optimize__?names=eachDayOfInterval!=!date-fns */ \"(middleware)/./node_modules/date-fns/eachDayOfInterval.js\");\n/* harmony import */ var _supabase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./supabase */ \"(middleware)/./app/_lib/supabase.js\");\n\n\n\n/////////////\n// GET\nasync function getCabin(id) {\n    const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"cabins\").select(\"*\").eq(\"id\", id).single();\n    // For testing\n    // await new Promise((res) => setTimeout(res, 2000));\n    if (error) {\n        console.error(error);\n        (0,next_navigation__WEBPACK_IMPORTED_MODULE_0__.notFound)();\n    }\n    return data;\n}\nasync function getCabinPrice(id) {\n    const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"cabins\").select(\"regularPrice, discount\").eq(\"id\", id).single();\n    if (error) {\n        console.error(error);\n    }\n    return data;\n}\nconst getCabins = async function() {\n    const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"cabins\").select(\"id, name, maxCapacity, regularPrice, discount, image\").order(\"name\");\n    if (error) {\n        console.error(error);\n        throw new Error(\"Cabins could not be loaded\");\n    }\n    return data;\n};\nasync function getGuest(email) {\n    const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"guests\").select(\"*\").eq(\"email\", email).single();\n    return data;\n}\nasync function getBooking(id) {\n    const { data, error, count } = await _supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"bookings\").select(\"*\").eq(\"id\", id).single();\n    if (error) {\n        console.error(error);\n        throw new Error(\"Booking could not get loaded\");\n    }\n    return data;\n}\nasync function getBookings(guestId) {\n    const { data, error, count } = await _supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"bookings\")// We actually also need data on the cabins as well. But let's ONLY take the data that we actually need, in order to reduce downloaded data.\n    .select(\"id, created_at, startDate, endDate, numNights, numGuests, totalPrice, guestId, cabinId, cabins(name, image)\").eq(\"guestId\", guestId).order(\"startDate\");\n    if (error) {\n        console.error(error);\n        throw new Error(\"Bookings could not get loaded\");\n    }\n    return data;\n}\nasync function getBookedDatesByCabinId(cabinId) {\n    let today = new Date();\n    today.setUTCHours(0, 0, 0, 0);\n    today = today.toISOString();\n    // Getting all bookings\n    const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"bookings\").select(\"*\").eq(\"cabinId\", cabinId).or(`startDate.gte.${today},status.eq.checked-in`);\n    if (error) {\n        console.error(error);\n        throw new Error(\"Bookings could not get loaded\");\n    }\n    // Converting to actual dates to be displayed in the date picker\n    const bookedDates = data.map((booking)=>{\n        return (0,_barrel_optimize_names_eachDayOfInterval_date_fns__WEBPACK_IMPORTED_MODULE_2__.eachDayOfInterval)({\n            start: new Date(booking.startDate),\n            end: new Date(booking.endDate)\n        });\n    }).flat();\n    return bookedDates;\n}\nasync function getSettings() {\n    const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"settings\").select(\"*\").single();\n    // await new Promise((res) => setTimeout(res, 5000));\n    if (error) {\n        console.error(error);\n        throw new Error(\"Settings could not be loaded\");\n    }\n    return data;\n}\nasync function getCountries() {\n    try {\n        const res = await fetch(\"https://restcountries.com/v2/all?fields=name,flag\");\n        const countries = await res.json();\n        return countries;\n    } catch  {\n        throw new Error(\"Could not fetch countries\");\n    }\n}\n/////////////\n// CREATE\nasync function createGuest(newGuest) {\n    const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"guests\").insert([\n        newGuest\n    ]);\n    if (error) {\n        console.error(error);\n        throw new Error(\"Guest could not be created\");\n    }\n    return data;\n} /*\nexport async function createBooking(newBooking) {\n  const { data, error } = await supabase\n    .from(\"bookings\")\n    .insert([newBooking])\n    // So that the newly created object gets returned!\n    .select()\n    .single();\n\n  if (error) {\n    console.error(error);\n    throw new Error(\"Booking could not be created\");\n  }\n\n  return data;\n}\n*/  /////////////\n // UPDATE\n /*\n// The updatedFields is an object which should ONLY contain the updated data\nexport async function updateGuest(id, updatedFields) {\n  const { data, error } = await supabase\n    .from(\"guests\")\n    .update(updatedFields)\n    .eq(\"id\", id)\n    .select()\n    .single();\n\n  if (error) {\n    console.error(error);\n    throw new Error(\"Guest could not be updated\");\n  }\n  return data;\n}\n\nexport async function updateBooking(id, updatedFields) {\n  const { data, error } = await supabase\n    .from(\"bookings\")\n    .update(updatedFields)\n    .eq(\"id\", id)\n    .select()\n    .single();\n\n  if (error) {\n    console.error(error);\n    throw new Error(\"Booking could not be updated\");\n  }\n  return data;\n}\n\n/////////////\n// DELETE\n\nexport async function deleteBooking(id) {\n  const { data, error } = await supabase.from(\"bookings\").delete().eq(\"id\", id);\n\n  if (error) {\n    console.error(error);\n    throw new Error(\"Booking could not be deleted\");\n  }\n  return data;\n}\n*/ \n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vYXBwL19saWIvZGF0YS1zZXJ2aWNlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBMkM7QUFDRTtBQUNQO0FBRXRDLGFBQWE7QUFDYixNQUFNO0FBRUMsZUFBZUcsU0FBU0MsRUFBRTtJQUMvQixNQUFNLEVBQUVDLElBQUksRUFBRUMsS0FBSyxFQUFFLEdBQUcsTUFBTUosK0NBQVFBLENBQ25DSyxJQUFJLENBQUMsVUFDTEMsTUFBTSxDQUFDLEtBQ1BDLEVBQUUsQ0FBQyxNQUFNTCxJQUNUTSxNQUFNO0lBRVQsY0FBYztJQUNkLHFEQUFxRDtJQUVyRCxJQUFJSixPQUFPO1FBQ1RLLFFBQVFMLEtBQUssQ0FBQ0E7UUFDZE4seURBQVFBO0lBQ1Y7SUFFQSxPQUFPSztBQUNUO0FBRU8sZUFBZU8sY0FBY1IsRUFBRTtJQUNwQyxNQUFNLEVBQUVDLElBQUksRUFBRUMsS0FBSyxFQUFFLEdBQUcsTUFBTUosK0NBQVFBLENBQ25DSyxJQUFJLENBQUMsVUFDTEMsTUFBTSxDQUFDLDBCQUNQQyxFQUFFLENBQUMsTUFBTUwsSUFDVE0sTUFBTTtJQUVULElBQUlKLE9BQU87UUFDVEssUUFBUUwsS0FBSyxDQUFDQTtJQUNoQjtJQUVBLE9BQU9EO0FBQ1Q7QUFFTyxNQUFNUSxZQUFZO0lBQ3ZCLE1BQU0sRUFBRVIsSUFBSSxFQUFFQyxLQUFLLEVBQUUsR0FBRyxNQUFNSiwrQ0FBUUEsQ0FDbkNLLElBQUksQ0FBQyxVQUNMQyxNQUFNLENBQUMsd0RBQ1BNLEtBQUssQ0FBQztJQUVULElBQUlSLE9BQU87UUFDVEssUUFBUUwsS0FBSyxDQUFDQTtRQUNkLE1BQU0sSUFBSVMsTUFBTTtJQUNsQjtJQUVBLE9BQU9WO0FBQ1QsRUFBRTtBQUVLLGVBQWVXLFNBQVNDLEtBQUs7SUFDbEMsTUFBTSxFQUFFWixJQUFJLEVBQUVDLEtBQUssRUFBRSxHQUFHLE1BQU1KLCtDQUFRQSxDQUNuQ0ssSUFBSSxDQUFDLFVBQ0xDLE1BQU0sQ0FBQyxLQUNQQyxFQUFFLENBQUMsU0FBU1EsT0FDWlAsTUFBTTtJQUVULE9BQU9MO0FBQ1Q7QUFFTyxlQUFlYSxXQUFXZCxFQUFFO0lBQ2pDLE1BQU0sRUFBRUMsSUFBSSxFQUFFQyxLQUFLLEVBQUVhLEtBQUssRUFBRSxHQUFHLE1BQU1qQiwrQ0FBUUEsQ0FDMUNLLElBQUksQ0FBQyxZQUNMQyxNQUFNLENBQUMsS0FDUEMsRUFBRSxDQUFDLE1BQU1MLElBQ1RNLE1BQU07SUFFVCxJQUFJSixPQUFPO1FBQ1RLLFFBQVFMLEtBQUssQ0FBQ0E7UUFDZCxNQUFNLElBQUlTLE1BQU07SUFDbEI7SUFFQSxPQUFPVjtBQUNUO0FBRU8sZUFBZWUsWUFBWUMsT0FBTztJQUN2QyxNQUFNLEVBQUVoQixJQUFJLEVBQUVDLEtBQUssRUFBRWEsS0FBSyxFQUFFLEdBQUcsTUFBTWpCLCtDQUFRQSxDQUMxQ0ssSUFBSSxDQUFDLFdBQ04sNElBQTRJO0tBQzNJQyxNQUFNLENBQ0wsK0dBRURDLEVBQUUsQ0FBQyxXQUFXWSxTQUNkUCxLQUFLLENBQUM7SUFFVCxJQUFJUixPQUFPO1FBQ1RLLFFBQVFMLEtBQUssQ0FBQ0E7UUFDZCxNQUFNLElBQUlTLE1BQU07SUFDbEI7SUFFQSxPQUFPVjtBQUNUO0FBRU8sZUFBZWlCLHdCQUF3QkMsT0FBTztJQUNuRCxJQUFJQyxRQUFRLElBQUlDO0lBQ2hCRCxNQUFNRSxXQUFXLENBQUMsR0FBRyxHQUFHLEdBQUc7SUFDM0JGLFFBQVFBLE1BQU1HLFdBQVc7SUFFekIsdUJBQXVCO0lBQ3ZCLE1BQU0sRUFBRXRCLElBQUksRUFBRUMsS0FBSyxFQUFFLEdBQUcsTUFBTUosK0NBQVFBLENBQ25DSyxJQUFJLENBQUMsWUFDTEMsTUFBTSxDQUFDLEtBQ1BDLEVBQUUsQ0FBQyxXQUFXYyxTQUNkSyxFQUFFLENBQUMsQ0FBQyxjQUFjLEVBQUVKLE1BQU0scUJBQXFCLENBQUM7SUFFbkQsSUFBSWxCLE9BQU87UUFDVEssUUFBUUwsS0FBSyxDQUFDQTtRQUNkLE1BQU0sSUFBSVMsTUFBTTtJQUNsQjtJQUVBLGdFQUFnRTtJQUNoRSxNQUFNYyxjQUFjeEIsS0FDakJ5QixHQUFHLENBQUMsQ0FBQ0M7UUFDSixPQUFPOUIsb0dBQWlCQSxDQUFDO1lBQ3ZCK0IsT0FBTyxJQUFJUCxLQUFLTSxRQUFRRSxTQUFTO1lBQ2pDQyxLQUFLLElBQUlULEtBQUtNLFFBQVFJLE9BQU87UUFDL0I7SUFDRixHQUNDQyxJQUFJO0lBRVAsT0FBT1A7QUFDVDtBQUVPLGVBQWVRO0lBQ3BCLE1BQU0sRUFBRWhDLElBQUksRUFBRUMsS0FBSyxFQUFFLEdBQUcsTUFBTUosK0NBQVFBLENBQUNLLElBQUksQ0FBQyxZQUFZQyxNQUFNLENBQUMsS0FBS0UsTUFBTTtJQUUxRSxxREFBcUQ7SUFFckQsSUFBSUosT0FBTztRQUNUSyxRQUFRTCxLQUFLLENBQUNBO1FBQ2QsTUFBTSxJQUFJUyxNQUFNO0lBQ2xCO0lBRUEsT0FBT1Y7QUFDVDtBQUVPLGVBQWVpQztJQUNwQixJQUFJO1FBQ0YsTUFBTUMsTUFBTSxNQUFNQyxNQUNoQjtRQUVGLE1BQU1DLFlBQVksTUFBTUYsSUFBSUcsSUFBSTtRQUNoQyxPQUFPRDtJQUNULEVBQUUsT0FBTTtRQUNOLE1BQU0sSUFBSTFCLE1BQU07SUFDbEI7QUFDRjtBQUVBLGFBQWE7QUFDYixTQUFTO0FBRUYsZUFBZTRCLFlBQVlDLFFBQVE7SUFDeEMsTUFBTSxFQUFFdkMsSUFBSSxFQUFFQyxLQUFLLEVBQUUsR0FBRyxNQUFNSiwrQ0FBUUEsQ0FBQ0ssSUFBSSxDQUFDLFVBQVVzQyxNQUFNLENBQUM7UUFBQ0Q7S0FBUztJQUV2RSxJQUFJdEMsT0FBTztRQUNUSyxRQUFRTCxLQUFLLENBQUNBO1FBQ2QsTUFBTSxJQUFJUyxNQUFNO0lBQ2xCO0lBRUEsT0FBT1Y7QUFDVCxFQUNBOzs7Ozs7Ozs7Ozs7Ozs7O0FBZ0JBLElBQ0EsYUFBYTtDQUNiLFNBQVM7Q0FFVDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUE0Q0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vYXBwL19saWIvZGF0YS1zZXJ2aWNlLmpzP2EwN2UiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbm90Rm91bmQgfSBmcm9tIFwibmV4dC9uYXZpZ2F0aW9uXCI7XG5pbXBvcnQgeyBlYWNoRGF5T2ZJbnRlcnZhbCB9IGZyb20gXCJkYXRlLWZuc1wiO1xuaW1wb3J0IHsgc3VwYWJhc2UgfSBmcm9tIFwiLi9zdXBhYmFzZVwiO1xuXG4vLy8vLy8vLy8vLy8vXG4vLyBHRVRcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldENhYmluKGlkKSB7XG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgLmZyb20oXCJjYWJpbnNcIilcbiAgICAuc2VsZWN0KFwiKlwiKVxuICAgIC5lcShcImlkXCIsIGlkKVxuICAgIC5zaW5nbGUoKTtcblxuICAvLyBGb3IgdGVzdGluZ1xuICAvLyBhd2FpdCBuZXcgUHJvbWlzZSgocmVzKSA9PiBzZXRUaW1lb3V0KHJlcywgMjAwMCkpO1xuXG4gIGlmIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIG5vdEZvdW5kKCk7XG4gIH1cblxuICByZXR1cm4gZGF0YTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldENhYmluUHJpY2UoaWQpIHtcbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAuZnJvbShcImNhYmluc1wiKVxuICAgIC5zZWxlY3QoXCJyZWd1bGFyUHJpY2UsIGRpc2NvdW50XCIpXG4gICAgLmVxKFwiaWRcIiwgaWQpXG4gICAgLnNpbmdsZSgpO1xuXG4gIGlmIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICB9XG5cbiAgcmV0dXJuIGRhdGE7XG59XG5cbmV4cG9ydCBjb25zdCBnZXRDYWJpbnMgPSBhc3luYyBmdW5jdGlvbiAoKSB7XG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgLmZyb20oXCJjYWJpbnNcIilcbiAgICAuc2VsZWN0KFwiaWQsIG5hbWUsIG1heENhcGFjaXR5LCByZWd1bGFyUHJpY2UsIGRpc2NvdW50LCBpbWFnZVwiKVxuICAgIC5vcmRlcihcIm5hbWVcIik7XG5cbiAgaWYgKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ2FiaW5zIGNvdWxkIG5vdCBiZSBsb2FkZWRcIik7XG4gIH1cblxuICByZXR1cm4gZGF0YTtcbn07XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRHdWVzdChlbWFpbCkge1xuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgIC5mcm9tKFwiZ3Vlc3RzXCIpXG4gICAgLnNlbGVjdChcIipcIilcbiAgICAuZXEoXCJlbWFpbFwiLCBlbWFpbClcbiAgICAuc2luZ2xlKCk7XG5cbiAgcmV0dXJuIGRhdGE7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRCb29raW5nKGlkKSB7XG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IsIGNvdW50IH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgIC5mcm9tKFwiYm9va2luZ3NcIilcbiAgICAuc2VsZWN0KFwiKlwiKVxuICAgIC5lcShcImlkXCIsIGlkKVxuICAgIC5zaW5nbGUoKTtcblxuICBpZiAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJCb29raW5nIGNvdWxkIG5vdCBnZXQgbG9hZGVkXCIpO1xuICB9XG5cbiAgcmV0dXJuIGRhdGE7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRCb29raW5ncyhndWVzdElkKSB7XG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IsIGNvdW50IH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgIC5mcm9tKFwiYm9va2luZ3NcIilcbiAgICAvLyBXZSBhY3R1YWxseSBhbHNvIG5lZWQgZGF0YSBvbiB0aGUgY2FiaW5zIGFzIHdlbGwuIEJ1dCBsZXQncyBPTkxZIHRha2UgdGhlIGRhdGEgdGhhdCB3ZSBhY3R1YWxseSBuZWVkLCBpbiBvcmRlciB0byByZWR1Y2UgZG93bmxvYWRlZCBkYXRhLlxuICAgIC5zZWxlY3QoXG4gICAgICBcImlkLCBjcmVhdGVkX2F0LCBzdGFydERhdGUsIGVuZERhdGUsIG51bU5pZ2h0cywgbnVtR3Vlc3RzLCB0b3RhbFByaWNlLCBndWVzdElkLCBjYWJpbklkLCBjYWJpbnMobmFtZSwgaW1hZ2UpXCJcbiAgICApXG4gICAgLmVxKFwiZ3Vlc3RJZFwiLCBndWVzdElkKVxuICAgIC5vcmRlcihcInN0YXJ0RGF0ZVwiKTtcblxuICBpZiAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJCb29raW5ncyBjb3VsZCBub3QgZ2V0IGxvYWRlZFwiKTtcbiAgfVxuXG4gIHJldHVybiBkYXRhO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0Qm9va2VkRGF0ZXNCeUNhYmluSWQoY2FiaW5JZCkge1xuICBsZXQgdG9kYXkgPSBuZXcgRGF0ZSgpO1xuICB0b2RheS5zZXRVVENIb3VycygwLCAwLCAwLCAwKTtcbiAgdG9kYXkgPSB0b2RheS50b0lTT1N0cmluZygpO1xuXG4gIC8vIEdldHRpbmcgYWxsIGJvb2tpbmdzXG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgLmZyb20oXCJib29raW5nc1wiKVxuICAgIC5zZWxlY3QoXCIqXCIpXG4gICAgLmVxKFwiY2FiaW5JZFwiLCBjYWJpbklkKVxuICAgIC5vcihgc3RhcnREYXRlLmd0ZS4ke3RvZGF5fSxzdGF0dXMuZXEuY2hlY2tlZC1pbmApO1xuXG4gIGlmIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIHRocm93IG5ldyBFcnJvcihcIkJvb2tpbmdzIGNvdWxkIG5vdCBnZXQgbG9hZGVkXCIpO1xuICB9XG5cbiAgLy8gQ29udmVydGluZyB0byBhY3R1YWwgZGF0ZXMgdG8gYmUgZGlzcGxheWVkIGluIHRoZSBkYXRlIHBpY2tlclxuICBjb25zdCBib29rZWREYXRlcyA9IGRhdGFcbiAgICAubWFwKChib29raW5nKSA9PiB7XG4gICAgICByZXR1cm4gZWFjaERheU9mSW50ZXJ2YWwoe1xuICAgICAgICBzdGFydDogbmV3IERhdGUoYm9va2luZy5zdGFydERhdGUpLFxuICAgICAgICBlbmQ6IG5ldyBEYXRlKGJvb2tpbmcuZW5kRGF0ZSksXG4gICAgICB9KTtcbiAgICB9KVxuICAgIC5mbGF0KCk7XG5cbiAgcmV0dXJuIGJvb2tlZERhdGVzO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0U2V0dGluZ3MoKSB7XG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmZyb20oXCJzZXR0aW5nc1wiKS5zZWxlY3QoXCIqXCIpLnNpbmdsZSgpO1xuXG4gIC8vIGF3YWl0IG5ldyBQcm9taXNlKChyZXMpID0+IHNldFRpbWVvdXQocmVzLCA1MDAwKSk7XG5cbiAgaWYgKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiU2V0dGluZ3MgY291bGQgbm90IGJlIGxvYWRlZFwiKTtcbiAgfVxuXG4gIHJldHVybiBkYXRhO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0Q291bnRyaWVzKCkge1xuICB0cnkge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKFxuICAgICAgXCJodHRwczovL3Jlc3Rjb3VudHJpZXMuY29tL3YyL2FsbD9maWVsZHM9bmFtZSxmbGFnXCJcbiAgICApO1xuICAgIGNvbnN0IGNvdW50cmllcyA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgcmV0dXJuIGNvdW50cmllcztcbiAgfSBjYXRjaCB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGQgbm90IGZldGNoIGNvdW50cmllc1wiKTtcbiAgfVxufVxuXG4vLy8vLy8vLy8vLy8vXG4vLyBDUkVBVEVcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUd1ZXN0KG5ld0d1ZXN0KSB7XG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmZyb20oXCJndWVzdHNcIikuaW5zZXJ0KFtuZXdHdWVzdF0pO1xuXG4gIGlmIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIHRocm93IG5ldyBFcnJvcihcIkd1ZXN0IGNvdWxkIG5vdCBiZSBjcmVhdGVkXCIpO1xuICB9XG5cbiAgcmV0dXJuIGRhdGE7XG59XG4vKlxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUJvb2tpbmcobmV3Qm9va2luZykge1xuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgIC5mcm9tKFwiYm9va2luZ3NcIilcbiAgICAuaW5zZXJ0KFtuZXdCb29raW5nXSlcbiAgICAvLyBTbyB0aGF0IHRoZSBuZXdseSBjcmVhdGVkIG9iamVjdCBnZXRzIHJldHVybmVkIVxuICAgIC5zZWxlY3QoKVxuICAgIC5zaW5nbGUoKTtcblxuICBpZiAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJCb29raW5nIGNvdWxkIG5vdCBiZSBjcmVhdGVkXCIpO1xuICB9XG5cbiAgcmV0dXJuIGRhdGE7XG59XG4qL1xuLy8vLy8vLy8vLy8vL1xuLy8gVVBEQVRFXG5cbi8qXG4vLyBUaGUgdXBkYXRlZEZpZWxkcyBpcyBhbiBvYmplY3Qgd2hpY2ggc2hvdWxkIE9OTFkgY29udGFpbiB0aGUgdXBkYXRlZCBkYXRhXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlR3Vlc3QoaWQsIHVwZGF0ZWRGaWVsZHMpIHtcbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAuZnJvbShcImd1ZXN0c1wiKVxuICAgIC51cGRhdGUodXBkYXRlZEZpZWxkcylcbiAgICAuZXEoXCJpZFwiLCBpZClcbiAgICAuc2VsZWN0KClcbiAgICAuc2luZ2xlKCk7XG5cbiAgaWYgKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiR3Vlc3QgY291bGQgbm90IGJlIHVwZGF0ZWRcIik7XG4gIH1cbiAgcmV0dXJuIGRhdGE7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVCb29raW5nKGlkLCB1cGRhdGVkRmllbGRzKSB7XG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgLmZyb20oXCJib29raW5nc1wiKVxuICAgIC51cGRhdGUodXBkYXRlZEZpZWxkcylcbiAgICAuZXEoXCJpZFwiLCBpZClcbiAgICAuc2VsZWN0KClcbiAgICAuc2luZ2xlKCk7XG5cbiAgaWYgKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQm9va2luZyBjb3VsZCBub3QgYmUgdXBkYXRlZFwiKTtcbiAgfVxuICByZXR1cm4gZGF0YTtcbn1cblxuLy8vLy8vLy8vLy8vL1xuLy8gREVMRVRFXG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVCb29raW5nKGlkKSB7XG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmZyb20oXCJib29raW5nc1wiKS5kZWxldGUoKS5lcShcImlkXCIsIGlkKTtcblxuICBpZiAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJCb29raW5nIGNvdWxkIG5vdCBiZSBkZWxldGVkXCIpO1xuICB9XG4gIHJldHVybiBkYXRhO1xufVxuKi9cbiJdLCJuYW1lcyI6WyJub3RGb3VuZCIsImVhY2hEYXlPZkludGVydmFsIiwic3VwYWJhc2UiLCJnZXRDYWJpbiIsImlkIiwiZGF0YSIsImVycm9yIiwiZnJvbSIsInNlbGVjdCIsImVxIiwic2luZ2xlIiwiY29uc29sZSIsImdldENhYmluUHJpY2UiLCJnZXRDYWJpbnMiLCJvcmRlciIsIkVycm9yIiwiZ2V0R3Vlc3QiLCJlbWFpbCIsImdldEJvb2tpbmciLCJjb3VudCIsImdldEJvb2tpbmdzIiwiZ3Vlc3RJZCIsImdldEJvb2tlZERhdGVzQnlDYWJpbklkIiwiY2FiaW5JZCIsInRvZGF5IiwiRGF0ZSIsInNldFVUQ0hvdXJzIiwidG9JU09TdHJpbmciLCJvciIsImJvb2tlZERhdGVzIiwibWFwIiwiYm9va2luZyIsInN0YXJ0Iiwic3RhcnREYXRlIiwiZW5kIiwiZW5kRGF0ZSIsImZsYXQiLCJnZXRTZXR0aW5ncyIsImdldENvdW50cmllcyIsInJlcyIsImZldGNoIiwiY291bnRyaWVzIiwianNvbiIsImNyZWF0ZUd1ZXN0IiwibmV3R3Vlc3QiLCJpbnNlcnQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./app/_lib/data-service.js\n");

/***/ })

});