(()=>{var e={};e.id=66,e.ids=[66],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},55315:e=>{"use strict";e.exports=require("path")},68621:e=>{"use strict";e.exports=require("punycode")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},17360:e=>{"use strict";e.exports=require("url")},71568:e=>{"use strict";e.exports=require("zlib")},72254:e=>{"use strict";e.exports=require("node:buffer")},6005:e=>{"use strict";e.exports=require("node:crypto")},47261:e=>{"use strict";e.exports=require("node:util")},30858:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c}),r(67314),r(89727),r(81798),r(20784),r(89204),r(41888);var s=r(23191),a=r(88716),i=r(37922),n=r.n(i),l=r(95231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let c=["",{children:["cabins",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,67314)),"/Users/nataliia/Desktop/the-wild-oasis-website/app/cabins/page.js"]}]},{loading:[()=>Promise.resolve().then(r.bind(r,89727)),"/Users/nataliia/Desktop/the-wild-oasis-website/app/cabins/loading.js"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,4998))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,81798)),"/Users/nataliia/Desktop/the-wild-oasis-website/app/layout.js"],error:[()=>Promise.resolve().then(r.bind(r,20784)),"/Users/nataliia/Desktop/the-wild-oasis-website/app/error.js"],loading:[()=>Promise.resolve().then(r.bind(r,89204)),"/Users/nataliia/Desktop/the-wild-oasis-website/app/loading.js"],"not-found":[()=>Promise.resolve().then(r.bind(r,41888)),"/Users/nataliia/Desktop/the-wild-oasis-website/app/not-found.js"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,4998))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/Users/nataliia/Desktop/the-wild-oasis-website/app/cabins/page.js"],u="/cabins/page",m={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/cabins/page",pathname:"/cabins",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},20511:(e,t,r)=>{Promise.resolve().then(r.bind(r,94798)),Promise.resolve().then(r.bind(r,96263)),Promise.resolve().then(r.t.bind(r,92481,23)),Promise.resolve().then(r.t.bind(r,79404,23))},53923:(e,t,r)=>{Promise.resolve().then(r.bind(r,65175)),Promise.resolve().then(r.t.bind(r,92481,23)),Promise.resolve().then(r.t.bind(r,79404,23))},98633:(e,t,r)=>{Promise.resolve().then(r.bind(r,74636))},61457:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,12994,23)),Promise.resolve().then(r.t.bind(r,96114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,79671,23)),Promise.resolve().then(r.t.bind(r,41868,23)),Promise.resolve().then(r.t.bind(r,84759,23))},67112:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,79404,23))},35303:()=>{},94798:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});var s=r(10326),a=r(35047);let i=function(){let e=(0,a.useSearchParams)(),t=(0,a.useRouter)(),r=(0,a.usePathname)(),i=e.get("capacity")??"all";return s.jsx("div",{className:"border border-primary-800 flex",children:[{label:"All cabins",value:"all"},{label:"1–3 guests",value:"small"},{label:"4–7 guests",value:"medium"},{label:"8–12 guests",value:"large"}].map(({label:a,value:n})=>s.jsx("button",{className:`px-5 py-2 hover:bg-primary-700 ${i===n?"bg-primary-700 text-primary-50":""}`,onClick:()=>(function(s){let a=new URLSearchParams(e);a.set("capacity",s),t.replace(`${r}?${a.toString()}`,{scroll:!1})})(n),children:a},n))})}},65175:(e,t,r)=>{"use strict";r.d(t,{ReservationProvider:()=>l,V:()=>o});var s=r(10326),a=r(17577);let i=(0,a.createContext)(),n={from:void 0,to:void 0};function l({children:e}){let[t,r]=(0,a.useState)(n);return s.jsx(i.Provider,{value:{range:t,setRange:r,resetRange:()=>r(n)},children:e})}function o(){let e=(0,a.useContext)(i);if(void 0===e)throw Error("Context was used outside the provider");return e}},96263:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var s=r(10326),a=r(17577);let i=a.forwardRef(function({title:e,titleId:t,...r},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{fillRule:"evenodd",d:"M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))});var n=r(45079),l=r(65175);let o=function(){let{range:e,resetRange:t}=(0,l.V)();return e.from&&e.to?(0,s.jsxs)("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 py-5 px-8 rounded-full bg-accent-500 text-primary-800 text  font-semibold shadow-xl shadow-slate-900 flex gap-8 items-center",children:[(0,s.jsxs)("p",{children:[s.jsx("span",{children:"\uD83D\uDC4B"})," Don't forget to reserve your dates ",s.jsx("br",{})," from"," ",(0,n.WU)(new Date(e.from),"MMM dd yyyy")," to"," ",(0,n.WU)(new Date(e.to),"MMM dd yyyy")]}),s.jsx("button",{className:"rounded-full p-1 hover:bg-accent-600 transition-all",onClick:t,children:s.jsx(i,{className:"h-5 w-5"})})]}):null}},74636:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(10326);function a({error:e,reset:t}){return(0,s.jsxs)("main",{className:"flex justify-center items-center flex-col gap-6",children:[s.jsx("h1",{className:"text-3xl font-semibold",children:"Something went wrong!"}),s.jsx("p",{className:"text-lg",children:e.message}),s.jsx("button",{onClick:t,className:"inline-block bg-accent-500 text-primary-800 px-6 py-3 text-lg",children:"Try again"})]})}},35047:(e,t,r)=>{"use strict";var s=r(77389);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},3804:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var s=r(19510);let a=function(){return s.jsx("div",{className:"spinner"})}},76177:(e,t,r)=>{"use strict";r.d(t,{HT:()=>d,I8:()=>l,a4:()=>u,w7:()=>c,zB:()=>o});var s=r(51875),a=r(8204),i=r(99115);let n={providers:[(0,a.Z)({clientId:process.env.AUTH_GOOGLE_ID,clientSecret:process.env.AUTH_GOOGLE_SECRET})],callbacks:{authorized:({auth:e,request:t})=>!!e?.user,async signIn({user:e,account:t,profile:r}){try{return await (0,i.PT)(e.email)||await (0,i.Az)({email:e.email,fullName:e.name}),!0}catch{return!1}},async session({session:e,user:t}){let r=await (0,i.PT)(e.user.email);return e.user.guestId=r.id,e}},pages:{signIn:"/login"}},{auth:l,signIn:o,signOut:c,handlers:{GET:d,POST:u}}=(0,s.ZP)(n)},99115:(e,t,r)=>{"use strict";r.d(t,{$_:()=>n,Az:()=>x,Gw:()=>m,PT:()=>o,aL:()=>d,bz:()=>u,ee:()=>l,lx:()=>c,ox:()=>p});var s=r(58585),a=r(73254),i=r(37286);async function n(e){let{data:t,error:r}=await i.O.from("cabins").select("*").eq("id",e).single();return r&&(console.error(r),(0,s.notFound)()),t}let l=async function(){let{data:e,error:t}=await i.O.from("cabins").select("id, name, maxCapacity, regularPrice, discount, image").order("name");if(t)throw console.error(t),Error("Cabins could not be loaded");return e};async function o(e){let{data:t,error:r}=await i.O.from("guests").select("*").eq("email",e).single();return t}async function c(e){let{data:t,error:r,count:s}=await i.O.from("bookings").select("*").eq("id",e).single();if(r)throw console.error(r),Error("Booking could not get loaded");return t}async function d(e){let{data:t,error:r,count:s}=await i.O.from("bookings").select("id, created_at, startDate, endDate, numNights, numGuests, totalPrice, guestId, cabinId, cabins(name, image)").eq("guestId",e).order("startDate");if(r)throw Error("Bookings could not get loaded");return t}async function u(e){let t=new Date;t.setUTCHours(0,0,0,0),t=t.toISOString();let{data:r,error:s}=await i.O.from("bookings").select("*").eq("cabinId",e).or(`startDate.gte.${t},status.eq.checked-in`);if(s)throw console.error(s),Error("Bookings could not get loaded");return r.map(e=>(0,a.D)({start:new Date(e.startDate),end:new Date(e.endDate)})).flat()}async function m(){let{data:e,error:t}=await i.O.from("settings").select("*").single();if(t)throw console.error(t),Error("Settings could not be loaded");return e}async function p(){try{let e=await fetch("https://restcountries.com/v2/all?fields=name,flag");return await e.json()}catch{throw Error("Could not fetch countries")}}async function x(e){let{data:t,error:r}=await i.O.from("guests").insert([e]);if(r)throw console.error(r),Error("Guest could not be created");return t}},37286:(e,t,r)=>{"use strict";r.d(t,{O:()=>a});let{createClient:s}=r(12814),a=s(process.env.SUPABASE_URL,process.env.SUPABASE_KEY)},89727:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var s=r(19510),a=r(3804);function i(){return(0,s.jsxs)("div",{className:"grid items-center  justify-center",children:[s.jsx(a.Z,{}),s.jsx("p",{className:"text-xl text-primary-200",children:"Loading cabin data..."})]})}},67314:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>b,metadata:()=>f,revalidate:()=>h});var s=r(19510),a=r(71159),i=r(98568),n=r(17710),l=r(57371);let o=function({cabin:e}){let{id:t,name:r,maxCapacity:a,regularPrice:o,discount:c,image:d}=e;return(0,s.jsxs)("div",{className:"flex border-primary-800 border",children:[s.jsx("div",{className:"flex-1 relative ",children:s.jsx(n.default,{fill:!0,src:d,alt:`Cabin ${r}`,className:"object-cover flex-1 border-r border-primary-800"})}),(0,s.jsxs)("div",{className:"flex-grow",children:[(0,s.jsxs)("div",{className:"pt-5 pb-4 px-7 bg-primary-950",children:[(0,s.jsxs)("h3",{className:"text-accent-500 font-semibold text-2xl mb-3",children:["Cabin ",r]}),(0,s.jsxs)("div",{className:"flex gap-3 items-center mb-2",children:[s.jsx(i.Z,{className:"h-5 w-5 text-primary-600"}),(0,s.jsxs)("p",{className:"text-lg text-primary-200",children:["For up to ",s.jsx("span",{className:"font-bold",children:a})," guests"]})]}),(0,s.jsxs)("p",{className:"flex gap-3 justify-end items-baseline",children:[c>0?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("span",{className:"text-3xl font-[350]",children:["$",o-c]}),(0,s.jsxs)("span",{className:"line-through font-semibold text-primary-600",children:["$",o]})]}):(0,s.jsxs)("span",{className:"text-3xl font-[350]",children:["$",o]}),s.jsx("span",{className:"text-primary-200",children:"/ night"})]})]}),s.jsx("div",{className:"bg-primary-950 border-t border-t-primary-800 text-right",children:s.jsx(l.default,{href:`/cabins/${t}`,className:"border-l border-primary-800 py-4 px-6 inline-block hover:bg-accent-600 transition-all hover:text-primary-900",children:"Details & reservation →"})})]})]})};var c=r(99115);async function d({filter:e}){let t=await (0,c.ee)();if(!t.length)return null;let r=t;return"all"===e.capacity&&(r=t),"small"===e.capacity&&(r=t.filter(e=>e.maxCapacity<=3)),"medium"===e.capacity&&(r=t.filter(e=>e.maxCapacity>=4&&e.maxCapacity<=7)),"large"===e.capacity&&(r=t.filter(e=>e.maxCapacity>=8)),s.jsx("div",{className:"grid sm:grid-cols-1 md:grid-cols-2 gap-8 lg:gap-12 xl:gap-14",children:r.map(e=>s.jsx(o,{cabin:e},e.id))})}var u=r(68570);let m=(0,u.createProxy)(String.raw`/Users/nataliia/Desktop/the-wild-oasis-website/app/_components/Filter.js#default`),p=(0,u.createProxy)(String.raw`/Users/nataliia/Desktop/the-wild-oasis-website/app/_components/ReservationReminder.js#default`);var x=r(3804);let h=3600,f={title:"Cabins"};function b({searchParams:e}){let t=e?.capacity??"all";return(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-4xl mb-5 text-accent-400 font-medium",children:"Our Luxury Cabins"}),s.jsx("p",{className:"text-primary-200 text-lg mb-10",children:"Cozy yet luxurious cabins, located right in the heart of the Italian Dolomites. Imagine waking up to beautiful mountain views, spending your days exploring the dark forests around, or just relaxing in your private hot tub under the stars. Enjoy nature's beauty in your own little home away from home. The perfect spot for a peaceful, calm vacation. Welcome to paradise."}),s.jsx("div",{className:"flex justify-end mb-8",children:s.jsx(m,{})}),(0,s.jsxs)(a.Suspense,{fallback:s.jsx(x.Z,{}),children:[s.jsx(d,{filter:{capacity:t}}),s.jsx(p,{})]},{capacity:t})]})}},20784:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(68570).createProxy)(String.raw`/Users/nataliia/Desktop/the-wild-oasis-website/app/error.js#default`)},81798:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h,metadata:()=>x});var s=r(19510),a=r(96151),i=r.n(a),n=r(17710),l=r(57371);let o=function(){return(0,s.jsxs)(l.default,{href:"/",className:"flex items-center gap-4 z-10",children:[s.jsx(n.default,{src:"/logo.png",height:"60",width:"60",alt:"The Wild Oasis logo"}),s.jsx("span",{className:"text-xl font-semibold text-primary-100",children:"The Wild Oasis"})]})};var c=r(76177);async function d(){let e=await (0,c.I8)();return s.jsx("nav",{className:"z-10 text-xl",children:(0,s.jsxs)("ul",{className:"flex gap-16 items-center",children:[s.jsx("li",{children:s.jsx(l.default,{href:"/cabins",className:"hover:text-accent-400 transition-colors",children:"Cabins"})}),s.jsx("li",{children:s.jsx(l.default,{href:"/about",className:"hover:text-accent-400 transition-colors",children:"About"})}),s.jsx("li",{children:e?.user?.image?(0,s.jsxs)(l.default,{href:"/account",className:"hover:text-accent-400 transition-colors flex items-center gap-4",children:[s.jsx("img",{className:"h-8 rounded-full",src:e.user.image,alt:"user avatar",referrerPolicy:"no-referrer"}),s.jsx("span",{children:"Guest area"})]}):s.jsx(l.default,{href:"/account",className:"hover:text-accent-400 transition-colors",children:"Guest area"})})]})})}r(22901);let u=function(){return s.jsx("header",{className:"border-b border-primary-900 px-8 py-5",children:(0,s.jsxs)("div",{className:"flex justify-between items-center max-w-7xl mx-auto",children:[s.jsx(o,{}),s.jsx(d,{})]})})};var m=r(68570);let p=(0,m.createProxy)(String.raw`/Users/nataliia/Desktop/the-wild-oasis-website/app/_components/ReservationContext.js#ReservationProvider`);(0,m.createProxy)(String.raw`/Users/nataliia/Desktop/the-wild-oasis-website/app/_components/ReservationContext.js#useReservation`);let x={title:{template:"%s The Wild Oasis",default:"Welcome / The Wild Oasis"},description:"Luxurious cabin hotel, located in the heart of the Italian Dolomites, surrounded by beautiful mountains and dark forest"};function h({children:e}){return s.jsx("html",{lang:"en",children:(0,s.jsxs)("body",{className:`${i().className} antialiased bg-primary-950 text-primary-100 min-h-screen flex flex-col relative`,children:[s.jsx(u,{}),s.jsx("div",{className:"flex-1 px-8 py-12 grid",children:s.jsx("main",{className:"max-w-7xl mx-auto w-full",children:s.jsx(p,{children:e})})})]})})}},89204:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var s=r(19510),a=r(3804);function i(){return s.jsx(a.Z,{})}},41888:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var s=r(19510),a=r(57371);let i=function(){return(0,s.jsxs)("main",{className:"text-center space-y-6 mt-4",children:[s.jsx("h1",{className:"text-3xl font-semibold",children:"This page could not be found :("}),s.jsx(a.default,{href:"/",className:"inline-block bg-accent-500 text-primary-800 px-6 py-3 text-lg",children:"Go back home"})]})}},4998:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(66621);let a=e=>[{type:"image/png",sizes:"163x163",url:(0,s.fillMetadataSegment)(".",e.params,"icon.png")+"?b502d2fa4ef91864"}]},22901:()=>{},98568:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var s=r(71159);let a=s.forwardRef(function({title:e,titleId:t,...r},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?s.createElement("title",{id:t},e):null,s.createElement("path",{d:"M4.5 6.375a4.125 4.125 0 1 1 8.25 0 4.125 4.125 0 0 1-8.25 0ZM14.25 8.625a3.375 3.375 0 1 1 6.75 0 3.375 3.375 0 0 1-6.75 0ZM1.5 19.125a7.125 7.125 0 0 1 14.25 0v.003l-.001.119a.75.75 0 0 1-.363.63 13.067 13.067 0 0 1-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 0 1-.364-.63l-.001-.122ZM17.25 19.128l-.001.144a2.25 2.25 0 0 1-.233.96 10.088 10.088 0 0 0 5.06-1.01.75.75 0 0 0 .42-.643 4.875 4.875 0 0 0-6.957-4.611 8.586 8.586 0 0 1 1.71 5.157v.003Z"}))})}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[948,263,843,433,79],()=>r(30858));module.exports=s})();